{"filter":false,"title":"event_schedule.js","tooltip":"/tennis_club_app/backend/static/js/event_schedule.js","undoManager":{"mark":36,"position":36,"stack":[[{"start":{"row":0,"column":0},"end":{"row":175,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":37}],[{"start":{"row":0,"column":0},"end":{"row":175,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":38},{"start":{"row":0,"column":0},"end":{"row":174,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            court_id: 1  // Assuming court_id is 1 for simplicity; adjust as needed","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify(eventData),  // Convert data to JSON string","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                contentType: 'application/json',  // Set content type to JSON","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":174,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            court_id: 1  // Assuming court_id is 1 for simplicity; adjust as needed","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify(eventData),  // Convert data to JSON string","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                contentType: 'application/json',  // Set content type to JSON","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":39},{"start":{"row":0,"column":0},"end":{"row":174,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            court_id: 1  // Adjust court_id logic as needed","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify(eventData),  // Convert data to JSON string","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                contentType: 'application/json',  // Set content type to JSON","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":17,"column":25},"end":{"row":17,"column":26},"action":"insert","lines":["x"],"id":40},{"start":{"row":17,"column":26},"end":{"row":17,"column":27},"action":"insert","lines":["x"]}],[{"start":{"row":17,"column":26},"end":{"row":17,"column":27},"action":"remove","lines":["x"],"id":41},{"start":{"row":17,"column":25},"end":{"row":17,"column":26},"action":"remove","lines":["x"]}],[{"start":{"row":0,"column":0},"end":{"row":174,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            court_id: 1  // Adjust court_id logic as needed","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify(eventData),  // Convert data to JSON string","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                contentType: 'application/json',  // Set content type to JSON","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":42},{"start":{"row":0,"column":0},"end":{"row":177,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;  // Fetch CSRF token","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            court_id: 1  // Adjust court_id logic as needed","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify(eventData),  // Convert data to JSON string","            headers: { 'X-CSRFToken': csrfToken },  // Add CSRF token to headers","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },  // Add CSRF token to headers","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            headers: { 'X-CSRFToken': csrfToken },  // Add CSRF token to headers","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":177,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;  // Fetch CSRF token","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            court_id: 1  // Adjust court_id logic as needed","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify(eventData),  // Convert data to JSON string","            headers: { 'X-CSRFToken': csrfToken },  // Add CSRF token to headers","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },  // Add CSRF token to headers","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            headers: { 'X-CSRFToken': csrfToken },  // Add CSRF token to headers","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":43},{"start":{"row":0,"column":0},"end":{"row":132,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":132,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":44},{"start":{"row":0,"column":0},"end":{"row":132,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":132,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":45},{"start":{"row":0,"column":0},"end":{"row":132,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":132,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":46},{"start":{"row":0,"column":0},"end":{"row":133,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/events/',","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":133,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/events/',","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":47},{"start":{"row":0,"column":0},"end":{"row":131,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","    var editingEventId = null;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        events: '/api/courts/events/',","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var start = $('#event-start-date').val();","        var end = $('#event-end-date').val();","        ","        var eventData = {","            title: title,","            start: start,","            end: end","        };","","        var url = editingEventId ? `/api/courts/events/edit/${editingEventId}/` : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: `/api/courts/events/delete/${editingEventId}/`,","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: `/api/courts/events/edit/${event.id}/`,","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":131,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","    var editingEventId = null;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        events: '/api/courts/events/',","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var start = $('#event-start-date').val();","        var end = $('#event-end-date').val();","        ","        var eventData = {","            title: title,","            start: start,","            end: end","        };","","        var url = editingEventId ? `/api/courts/events/edit/${editingEventId}/` : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: `/api/courts/events/delete/${editingEventId}/`,","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: `/api/courts/events/edit/${event.id}/`,","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":48},{"start":{"row":0,"column":0},"end":{"row":123,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/events/',","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);","        },","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/events/edit/' + editingEventId + '/' : '/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":123,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/events/',","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);","        },","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/events/edit/' + editingEventId + '/' : '/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":49},{"start":{"row":0,"column":0},"end":{"row":123,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/events/',  // Fetch events from your endpoint","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);","        },","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();  // This should show the calendar","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/events/edit/' + editingEventId + '/' : '/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":123,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/events/',  // Fetch events from your endpoint","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);","        },","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();  // This should show the calendar","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/events/edit/' + editingEventId + '/' : '/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":50},{"start":{"row":0,"column":0},"end":{"row":123,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);","        },","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":123,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);","        },","        eventResize: function(info) {","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            headers: { 'X-CSRFToken': csrfToken },","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('There was an error saving the event.');","            }","        });","    });","","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            headers: { 'X-CSRFToken': csrfToken },","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":51},{"start":{"row":0,"column":0},"end":{"row":175,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":175,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":52},{"start":{"row":0,"column":0},"end":{"row":175,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":53},{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["/* global FullCalendar */",""],"id":54}],[{"start":{"row":0,"column":25},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":55}],[{"start":{"row":0,"column":25},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":56},{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"insert","lines":["/"]},{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"insert","lines":[" "],"id":57},{"start":{"row":1,"column":3},"end":{"row":1,"column":4},"action":"insert","lines":["g"]},{"start":{"row":1,"column":4},"end":{"row":1,"column":5},"action":"insert","lines":["l"]},{"start":{"row":1,"column":5},"end":{"row":1,"column":6},"action":"insert","lines":["o"]},{"start":{"row":1,"column":6},"end":{"row":1,"column":7},"action":"insert","lines":["b"]}],[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"insert","lines":["a"],"id":58},{"start":{"row":1,"column":8},"end":{"row":1,"column":9},"action":"insert","lines":["l"]}],[{"start":{"row":1,"column":9},"end":{"row":1,"column":10},"action":"insert","lines":[" "],"id":59}],[{"start":{"row":1,"column":10},"end":{"row":1,"column":11},"action":"insert","lines":["$"],"id":60}],[{"start":{"row":1,"column":11},"end":{"row":1,"column":12},"action":"insert","lines":[" "],"id":61},{"start":{"row":1,"column":12},"end":{"row":1,"column":13},"action":"insert","lines":["*"]},{"start":{"row":1,"column":13},"end":{"row":1,"column":14},"action":"insert","lines":["/"]}],[{"start":{"row":68,"column":4},"end":{"row":108,"column":7},"action":"remove","lines":["$('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });"],"id":63},{"start":{"row":68,"column":4},"end":{"row":112,"column":0},"action":"insert","lines":["$('#addEventForm').submit(function(event) {","    event.preventDefault();  // Prevent default form submission","","    var title = $('#event-title').val();","    var startDate = $('#event-start-date').val();","    var startHour = $('#start-hour').val();","    var startMinute = $('#start-minute').val();","    var startAmPm = $('#start-ampm').val();","","    var endDate = $('#event-end-date').val();","    var endHour = $('#end-hour').val();","    var endMinute = $('#end-minute').val();","    var endAmPm = $('#end-ampm').val();","","    var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","    var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","    var eventData = {","        title: title,","        start: start,","        end: end,","        court_id: 1  // Adjust this value based on your court selection logic","    };","","    console.log(eventData);  // Check what is being sent","","    var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","    $.ajax({","        url: url,","        method: 'POST',","        contentType: 'application/json',  // Set content type to JSON","        data: JSON.stringify(eventData),  // Convert data to JSON string","        success: function() {","            calendar.refetchEvents();  // Refresh the events on the calendar","            modal.style.display = \"none\";  // Close the modal","            editingEventId = null;  // Reset the event ID","        },","        error: function(response) {","            console.error(response.responseText);  // Log the error to the console","            alert('There was an error saving the event.');","        }","    });","});",""]}],[{"start":{"row":69,"column":0},"end":{"row":69,"column":4},"action":"insert","lines":["    "],"id":64},{"start":{"row":70,"column":0},"end":{"row":70,"column":4},"action":"insert","lines":["    "]},{"start":{"row":71,"column":0},"end":{"row":71,"column":4},"action":"insert","lines":["    "]},{"start":{"row":72,"column":0},"end":{"row":72,"column":4},"action":"insert","lines":["    "]},{"start":{"row":73,"column":0},"end":{"row":73,"column":4},"action":"insert","lines":["    "]},{"start":{"row":74,"column":0},"end":{"row":74,"column":4},"action":"insert","lines":["    "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":4},"action":"insert","lines":["    "]},{"start":{"row":76,"column":0},"end":{"row":76,"column":4},"action":"insert","lines":["    "]},{"start":{"row":77,"column":0},"end":{"row":77,"column":4},"action":"insert","lines":["    "]},{"start":{"row":78,"column":0},"end":{"row":78,"column":4},"action":"insert","lines":["    "]},{"start":{"row":79,"column":0},"end":{"row":79,"column":4},"action":"insert","lines":["    "]},{"start":{"row":80,"column":0},"end":{"row":80,"column":4},"action":"insert","lines":["    "]},{"start":{"row":81,"column":0},"end":{"row":81,"column":4},"action":"insert","lines":["    "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":4},"action":"insert","lines":["    "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":4},"action":"insert","lines":["    "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":4},"action":"insert","lines":["    "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":4},"action":"insert","lines":["    "]},{"start":{"row":86,"column":0},"end":{"row":86,"column":4},"action":"insert","lines":["    "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":4},"action":"insert","lines":["    "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":4},"action":"insert","lines":["    "]},{"start":{"row":89,"column":0},"end":{"row":89,"column":4},"action":"insert","lines":["    "]},{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"insert","lines":["    "]},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"insert","lines":["    "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"insert","lines":["    "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":4},"action":"insert","lines":["    "]},{"start":{"row":94,"column":0},"end":{"row":94,"column":4},"action":"insert","lines":["    "]},{"start":{"row":95,"column":0},"end":{"row":95,"column":4},"action":"insert","lines":["    "]},{"start":{"row":96,"column":0},"end":{"row":96,"column":4},"action":"insert","lines":["    "]},{"start":{"row":97,"column":0},"end":{"row":97,"column":4},"action":"insert","lines":["    "]},{"start":{"row":98,"column":0},"end":{"row":98,"column":4},"action":"insert","lines":["    "]},{"start":{"row":99,"column":0},"end":{"row":99,"column":4},"action":"insert","lines":["    "]},{"start":{"row":100,"column":0},"end":{"row":100,"column":4},"action":"insert","lines":["    "]},{"start":{"row":101,"column":0},"end":{"row":101,"column":4},"action":"insert","lines":["    "]},{"start":{"row":102,"column":0},"end":{"row":102,"column":4},"action":"insert","lines":["    "]},{"start":{"row":103,"column":0},"end":{"row":103,"column":4},"action":"insert","lines":["    "]},{"start":{"row":104,"column":0},"end":{"row":104,"column":4},"action":"insert","lines":["    "]},{"start":{"row":105,"column":0},"end":{"row":105,"column":4},"action":"insert","lines":["    "]},{"start":{"row":106,"column":0},"end":{"row":106,"column":4},"action":"insert","lines":["    "]},{"start":{"row":107,"column":0},"end":{"row":107,"column":4},"action":"insert","lines":["    "]},{"start":{"row":108,"column":0},"end":{"row":108,"column":4},"action":"insert","lines":["    "]},{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"insert","lines":["    "]},{"start":{"row":110,"column":0},"end":{"row":110,"column":4},"action":"insert","lines":["    "]},{"start":{"row":111,"column":0},"end":{"row":111,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":0,"column":0},"end":{"row":182,"column":0},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","    ","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","    ","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","    ","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","    ","        var eventData = {","            title: title,","            start: start,","            end: end,","            court_id: 1  // Adjust this value based on your court selection logic","        };","    ","        console.log(eventData);  // Check what is being sent","    ","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","    ","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Set content type to JSON","            data: JSON.stringify(eventData),  // Convert data to JSON string","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":66},{"start":{"row":0,"column":0},"end":{"row":177,"column":3},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(${date}T${hour}:${minute}:00);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});"]}],[{"start":{"row":0,"column":0},"end":{"row":177,"column":3},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            // Drag-and-drop event update","            updateEvent(info.event);","        },","","        eventResize: function(info) {","            // Resize event update","            updateEvent(info.event);","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            data: eventData,","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                data: {","                    csrfmiddlewaretoken: '{{ csrf_token }}'","                },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(${date}T${hour}:${minute}:00);","","        return localDate.toISOString();","    }","","    function populateTimeFields(datetime, prefix) {","        var hours = datetime.getHours();","        var minutes = datetime.getMinutes();","        var ampm = hours >= 12 ? 'PM' : 'AM';","        hours = hours % 12 || 12;","","        document.getElementById(prefix + \"-hour\").value = hours;","        document.getElementById(prefix + \"-minute\").value = minutes.toString().padStart(2, '0');","        document.getElementById(prefix + \"-ampm\").value = ampm;","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            data: {","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            },","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});"],"id":67},{"start":{"row":0,"column":0},"end":{"row":165,"column":0},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Drag-and-drop event update","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Resize event update","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: $('input[name=\"csrfmiddlewaretoken\"]').val()  // Correctly retrieve CSRF token","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Correct content type","            data: JSON.stringify(eventData),  // Ensure data is sent as JSON","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': $('input[name=\"csrfmiddlewaretoken\"]').val() },  // Add CSRF token","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Correct content type","            headers: { 'X-CSRFToken': $('input[name=\"csrfmiddlewaretoken\"]').val() },  // Add CSRF token","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":165,"column":0},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Drag-and-drop event update","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Resize event update","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: $('input[name=\"csrfmiddlewaretoken\"]').val()  // Correctly retrieve CSRF token","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',  // Correct content type","            data: JSON.stringify(eventData),  // Ensure data is sent as JSON","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': $('input[name=\"csrfmiddlewaretoken\"]').val() },  // Add CSRF token","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',  // Correct content type","            headers: { 'X-CSRFToken': $('input[name=\"csrfmiddlewaretoken\"]').val() },  // Add CSRF token","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":68},{"start":{"row":0,"column":0},"end":{"row":158,"column":0},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    // Initialize FullCalendar","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle event drag and drop","        },","        eventResize: function(info) {","            updateEvent(info.event);  // Handle event resize","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Fetch courts and populate the dropdown","    function fetchCourts() {","        $.ajax({","            url: '/api/courts/list/',  // Assuming you have an endpoint to fetch courts","            method: 'GET',","            success: function(response) {","                var courtSelect = document.getElementById(\"court-selection\");","                courtSelect.innerHTML = '<option value=\"\">Select Court</option>';  // Clear existing options","                response.forEach(function(court) {","                    var option = document.createElement(\"option\");","                    option.value = court.id;","                    option.text = court.name;","                    courtSelect.appendChild(option);","                });","            },","            error: function() {","                alert('Error fetching courts');","            }","        });","    }","    fetchCourts();  // Populate courts on page load","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var title = $('#event-title').val();","        var courtId = $('#court-selection').val();  // Get selected court","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        if (!courtId) {","            alert('Please select a court.');","            return;","        }","","        var eventData = {","            title: title,","            court_id: courtId,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('Error saving the event.');","            }","        });","    });","","    // Delete event functionality","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('Error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                court_id: event.extendedProps.court_id","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('Error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":158,"column":0},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    // Initialize FullCalendar","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";","        },","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";","        },","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle event drag and drop","        },","        eventResize: function(info) {","            updateEvent(info.event);  // Handle event resize","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Fetch courts and populate the dropdown","    function fetchCourts() {","        $.ajax({","            url: '/api/courts/list/',  // Assuming you have an endpoint to fetch courts","            method: 'GET',","            success: function(response) {","                var courtSelect = document.getElementById(\"court-selection\");","                courtSelect.innerHTML = '<option value=\"\">Select Court</option>';  // Clear existing options","                response.forEach(function(court) {","                    var option = document.createElement(\"option\");","                    option.value = court.id;","                    option.text = court.name;","                    courtSelect.appendChild(option);","                });","            },","            error: function() {","                alert('Error fetching courts');","            }","        });","    }","    fetchCourts();  // Populate courts on page load","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var title = $('#event-title').val();","        var courtId = $('#court-selection').val();  // Get selected court","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        if (!courtId) {","            alert('Please select a court.');","            return;","        }","","        var eventData = {","            title: title,","            court_id: courtId,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                alert('Error saving the event.');","            }","        });","    });","","    // Delete event functionality","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    alert('Error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                court_id: event.extendedProps.court_id","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                alert('Error updating the event.');","            }","        });","    }","});",""],"id":70},{"start":{"row":0,"column":0},"end":{"row":77,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var editingEventId = null;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        }","    });","","    calendar.render();","","    // Handle form submission for adding/editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var eventData = {","            title: $('#event-title').val(),","            start: $('#event-start-date').val(),","            end: $('#event-end-date').val(),","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            }","        });","    });","","    // Delete event functionality","    $('#deleteEventBtn').click(function() {","        if (editingEventId) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                }","            });","        }","    });","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":77,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var editingEventId = null;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        }","    });","","    calendar.render();","","    // Handle form submission for adding/editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var eventData = {","            title: $('#event-title').val(),","            start: $('#event-start-date').val(),","            end: $('#event-end-date').val(),","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();","                modal.style.display = \"none\";","                editingEventId = null;","            }","        });","    });","","    // Delete event functionality","    $('#deleteEventBtn').click(function() {","        if (editingEventId) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();","                    modal.style.display = \"none\";","                    editingEventId = null;","                }","            });","        }","    });","});",""],"id":71},{"start":{"row":0,"column":0},"end":{"row":107,"column":0},"action":"insert","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Replace with the correct events URL","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Open the modal when a date range is selected","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button for new events","            modal.style.display = \"block\";  // Show the modal","        },","","        editable: true,","        eventClick: function(info) {","            // Open the modal when an existing event is clicked","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button for existing events","            modal.style.display = \"block\";  // Show the modal","        }","    });","","    calendar.render();","","    // Close modal when clicking the close button","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    // Close modal when clicking outside of the modal","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":107,"column":0},"action":"remove","lines":["document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Replace with the correct events URL","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Open the modal when a date range is selected","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button for new events","            modal.style.display = \"block\";  // Show the modal","        },","","        editable: true,","        eventClick: function(info) {","            // Open the modal when an existing event is clicked","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button for existing events","            modal.style.display = \"block\";  // Show the modal","        }","    });","","    calendar.render();","","    // Close modal when clicking the close button","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    // Close modal when clicking outside of the modal","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","});",""],"id":72},{"start":{"row":0,"column":0},"end":{"row":98,"column":0},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Replace with your correct endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields when a date is selected","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","        },","","        editable: true,","        eventClick: function(info) {","            // Populate form with event details when clicked","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Handle resize","        }","    });","","    calendar.render();","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":98,"column":0},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Replace with your correct endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields when a date is selected","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","        },","","        editable: true,","        eventClick: function(info) {","            // Populate form with event details when clicked","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Handle resize","        }","    });","","    calendar.render();","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","});",""],"id":73},{"start":{"row":0,"column":0},"end":{"row":98,"column":0},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var editingEventId = null;  // Store the ID of the event being edited","","    // Initialize FullCalendar","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Adjust to the correct API endpoint for fetching events","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","        },","","        editable: true,","        eventClick: function(info) {","            // Populate form with event details when clicked","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Handle resize","        }","    });","","    calendar.render();","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event functionality","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":98,"column":0},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var editingEventId = null;  // Store the ID of the event being edited","","    // Initialize FullCalendar","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Adjust to the correct API endpoint for fetching events","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","        },","","        editable: true,","        eventClick: function(info) {","            // Populate form with event details when clicked","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().slice(0, 16);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().slice(0, 16) : info.event.start.toISOString().slice(0, 16);","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Handle resize","        }","    });","","    calendar.render();","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var endDate = $('#event-end-date').val();","","        var eventData = {","            title: title,","            start: startDate,","            end: endDate","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event functionality","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","});",""],"id":74},{"start":{"row":0,"column":0},"end":{"row":162,"column":0},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Ensure this endpoint is correct","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";  // Show modal for adding event","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";  // Show modal for editing","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Handle resize","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":162,"column":0},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/events/',  // Ensure this endpoint is correct","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Populate the start and end date fields in the modal","            document.getElementById(\"event-start-date\").value = info.startStr.split('T')[0];","            document.getElementById(\"event-end-date\").value = info.endStr.split('T')[0];","            editingEventId = null;  // Reset for new event","            document.getElementById('deleteEventBtn').style.display = 'none';  // Hide delete button","            modal.style.display = \"block\";  // Show modal for adding event","        },","","        editable: true,","        eventClick: function(info) {","            // Edit existing event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById('deleteEventBtn').style.display = 'inline-block';  // Show delete button","            modal.style.display = \"block\";  // Show modal for editing","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Handle drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Handle resize","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    };","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    };","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startHour = $('#start-hour').val();","        var startMinute = $('#start-minute').val();","        var startAmPm = $('#start-ampm').val();","","        var endDate = $('#event-end-date').val();","        var endHour = $('#end-hour').val();","        var endMinute = $('#end-minute').val();","        var endAmPm = $('#end-ampm').val();","","        var start = convertToUTC(startDate, startHour, startMinute, startAmPm);","        var end = convertToUTC(endDate, endHour, endMinute, endAmPm);","","        var eventData = {","            title: title,","            start: start,","            end: end","        };","","        var url = editingEventId ? '/api/events/edit/' + editingEventId + '/' : '/api/events/add/';","","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";  // Close the modal","                editingEventId = null;  // Reset the event ID","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error to the console","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/events/delete/' + editingEventId + '/',","                method: 'POST',","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";  // Close the modal","                    editingEventId = null;  // Reset the event ID","                },","                error: function(response) {","                    console.error(response.responseText);  // Log the error","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function convertToUTC(date, hour, minute, ampm) {","        if (ampm === 'PM' && hour !== '12') {","            hour = parseInt(hour) + 12;","        } else if (ampm === 'AM' && hour === '12') {","            hour = '00';","        }","","        hour = hour.toString().padStart(2, '0');","        minute = minute.padStart(2, '0');","","        var localDate = new Date(`${date}T${hour}:${minute}:00`);","","        return localDate.toISOString();","    }","","    function updateEvent(event) {","        $.ajax({","            url: '/api/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);  // Log the error","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":75},{"start":{"row":0,"column":0},"end":{"row":152,"column":0},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    // Initialize FullCalendar","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Show modal for adding an event","            document.getElementById(\"event-title\").value = \"\";","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            document.getElementById(\"event-start-time\").value = \"\";","            document.getElementById(\"event-end-time\").value = \"\";","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Show modal for editing an event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-start-time\").value = info.event.start.toISOString().split('T')[1].slice(0, 5);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-time\").value = info.event.end ? info.event.end.toISOString().split('T')[1].slice(0, 5) : \"\";","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Update event after drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Update event after resize","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startTime = $('#event-start-time').val();","        var endDate = $('#event-end-date').val();","        var endTime = $('#event-end-time').val();","","        var start = startDate + 'T' + startTime;","        var end = endDate + 'T' + endTime;","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: csrfToken","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: csrfToken","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":152,"column":0},"action":"remove","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","    var csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;","","    // Initialize FullCalendar","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Show modal for adding an event","            document.getElementById(\"event-title\").value = \"\";","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            document.getElementById(\"event-start-time\").value = \"\";","            document.getElementById(\"event-end-time\").value = \"\";","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Show modal for editing an event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-start-time\").value = info.event.start.toISOString().split('T')[1].slice(0, 5);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-time\").value = info.event.end ? info.event.end.toISOString().split('T')[1].slice(0, 5) : \"\";","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Update event after drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Update event after resize","        }","    });","","    calendar.render();","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startTime = $('#event-start-time').val();","        var endDate = $('#event-end-date').val();","        var endTime = $('#event-end-time').val();","","        var start = startDate + 'T' + startTime;","        var end = endDate + 'T' + endTime;","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: csrfToken","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': csrfToken },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: csrfToken","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""],"id":76},{"start":{"row":0,"column":0},"end":{"row":151,"column":0},"action":"insert","lines":["/* global FullCalendar */","/* global $ */","","document.addEventListener('DOMContentLoaded', function() {","    var calendarEl = document.getElementById('calendar');","    var modal = document.getElementById(\"addEventModal\");","    var span = document.getElementsByClassName(\"close\")[0];","    var editingEventId = null;  // Store the ID of the event being edited","","    // Initialize FullCalendar","    var calendar = new FullCalendar.Calendar(calendarEl, {","        initialView: 'dayGridMonth',","        timeZone: 'local',","        events: '/api/courts/schedule/',  // Fetch events from your endpoint","","        headerToolbar: {","            left: 'prev,next today',","            center: 'title',","            right: 'dayGridMonth,dayGridWeek,dayGridDay,listWeek'","        },","","        selectable: true,","        select: function(info) {","            // Show modal for adding an event","            document.getElementById(\"event-title\").value = \"\";","            document.getElementById(\"event-start-date\").value = info.startStr;","            document.getElementById(\"event-end-date\").value = info.endStr;","            document.getElementById(\"event-start-time\").value = \"\";","            document.getElementById(\"event-end-time\").value = \"\";","            editingEventId = null;","            document.getElementById('deleteEventBtn').style.display = 'none';","            modal.style.display = \"block\";","        },","","        editable: true,","        eventClick: function(info) {","            // Show modal for editing an event","            editingEventId = info.event.id;","            document.getElementById(\"event-title\").value = info.event.title;","            document.getElementById(\"event-start-date\").value = info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-start-time\").value = info.event.start.toISOString().split('T')[1].slice(0, 5);","            document.getElementById(\"event-end-date\").value = info.event.end ? info.event.end.toISOString().split('T')[0] : info.event.start.toISOString().split('T')[0];","            document.getElementById(\"event-end-time\").value = info.event.end ? info.event.end.toISOString().split('T')[1].slice(0, 5) : \"\";","            document.getElementById('deleteEventBtn').style.display = 'inline-block';","            modal.style.display = \"block\";","        },","","        eventDrop: function(info) {","            updateEvent(info.event);  // Update event after drag-and-drop","        },","","        eventResize: function(info) {","            updateEvent(info.event);  // Update event after resize","        }","    });","","    calendar.render();  // Ensure calendar renders here","","    // Close modal functionality","    span.onclick = function() {","        modal.style.display = \"none\";","        editingEventId = null;","    }","","    window.onclick = function(event) {","        if (event.target == modal) {","            modal.style.display = \"none\";","            editingEventId = null;","        }","    }","","    // Handle form submission for adding or editing events","    $('#addEventForm').submit(function(event) {","        event.preventDefault();  // Prevent default form submission","","        var title = $('#event-title').val();","        var startDate = $('#event-start-date').val();","        var startTime = $('#event-start-time').val();","        var endDate = $('#event-end-date').val();","        var endTime = $('#event-end-time').val();","","        var start = startDate + 'T' + startTime;","        var end = endDate + 'T' + endTime;","","        var eventData = {","            title: title,","            start: start,","            end: end,","            csrfmiddlewaretoken: '{{ csrf_token }}'","        };","","        var url = editingEventId ? '/api/courts/events/edit/' + editingEventId + '/' : '/api/courts/events/add/';","        ","        $.ajax({","            url: url,","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify(eventData),","            success: function() {","                calendar.refetchEvents();  // Refresh the events on the calendar","                modal.style.display = \"none\";","                editingEventId = null;","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error saving the event.');","            }","        });","    });","","    // Delete event","    $('#deleteEventBtn').click(function() {","        if (editingEventId && confirm('Are you sure you want to delete this event?')) {","            $.ajax({","                url: '/api/courts/events/delete/' + editingEventId + '/',","                method: 'POST',","                headers: { 'X-CSRFToken': '{{ csrf_token }}' },","                success: function() {","                    calendar.refetchEvents();  // Refresh the events on the calendar","                    modal.style.display = \"none\";","                    editingEventId = null;","                },","                error: function(response) {","                    console.error(response.responseText);","                    alert('There was an error deleting the event.');","                }","            });","        }","    });","","    function updateEvent(event) {","        $.ajax({","            url: '/api/courts/events/edit/' + event.id + '/',","            method: 'POST',","            contentType: 'application/json',","            data: JSON.stringify({","                title: event.title,","                start: event.start.toISOString(),","                end: event.end ? event.end.toISOString() : null,","                csrfmiddlewaretoken: '{{ csrf_token }}'","            }),","            success: function() {","                calendar.refetchEvents();","            },","            error: function(response) {","                console.error(response.responseText);","                alert('There was an error updating the event.');","            }","        });","    }","});",""]}]]},"ace":{"folds":[],"scrolltop":2210,"scrollleft":0,"selection":{"start":{"row":151,"column":0},"end":{"row":151,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":137,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1726115210179,"hash":"5c57a5b8e281cbb5f2b01af18c81153e195df18e"}