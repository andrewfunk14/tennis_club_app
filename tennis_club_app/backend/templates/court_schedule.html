{% extends 'base.html' %}
{% load static %}

{% block title %}Court Schedule{% endblock %}

{% block content %}
<div class="calendar-container">
    <div id="calendar"></div>
</div>

<!-- Modal for Adding/Editing Events -->
<div id="eventModal" class="modal">
    <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
            <h2 id="modal-title">Add/Edit Booking</h2>
            <span class="close">&times;</span>
        </div>
        <form id="eventForm">
            {% csrf_token %}
            <!-- Booking Title Input Field (without label) -->
            <input type="text" id="event-title" placeholder="Enter booking title" required>

            <!-- Event Type Selection -->
            <label for="event-type">Event Type</label>
            <select id="event-type" name="event-type" required>
                <option value="">Select an event type</option>
                <option value="group">Group Lesson</option>
                <option value="private">Private Lesson</option>
                <option value="camp">Camp</option>
                <option value="tournament">Tournament</option>
                <option value="social">Social</option>
                <option value="matchplay">Matchplay</option>
                <option value="other">Other</option>
                <!-- Add more options as defined in EVENT_TYPE_CHOICES -->
            </select>

            <!-- Start Time -->
            <label for="event-start-date">Start Time</label>
            <!-- Start Date -->
            <input type="text" id="event-start-date" required>

            <!-- Start Time Selectors -->
            <div class="time-selectors">
                <select id="start-hour" required></select> :
                <select id="start-minute" required></select>
                <select id="start-ampm" required></select>
            </div>

            <!-- End Time -->
            <label for="event-end-date">End Time</label>
            <!-- End Date -->
            <input type="text" id="event-end-date" required>

            <!-- End Time Selectors -->
            <div class="time-selectors">
                <select id="end-hour" required></select> :
                <select id="end-minute" required></select>
                <select id="end-ampm" required></select>
            </div>

            <!-- Buttons -->
            <button type="submit" id="saveEventBtn">Save Booking</button>
            <button type="button" id="deleteEventBtn" style="display: none;">Delete Booking</button>
        </form>
    </div>
</div>

<!-- FullCalendar CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css">

<!-- Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="{% static 'css/court_schedule.css' %}">

<!-- FullCalendar JS -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>

<!-- Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<!-- Include chroma.js from CDN -->
<script src="https://cdn.jsdelivr.net/npm/chroma-js@2.1.0/chroma.min.js"></script>

<!-- Custom JS -->
<script src="{% static 'js/court_schedule.js' %}"></script>

{% endblock %}
